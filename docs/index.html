<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>websocket-ts</title><meta name="description" content="Documentation for websocket-ts"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script><link rel="stylesheet" href="assets/hierarchy.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">websocket-ts</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>websocket-ts</h1></div><div class="tsd-panel tsd-typography"><div>
  <div align="center">
    <img src="https://raw.githubusercontent.com/jjxxs/websocket-ts/gh-pages/websocket-ts-logo.svg" alt="websocket-ts" width="300" height="65" />
  </div>
  <p align="center">
    <img src="https://github.com/jjxxs/websocket-ts/actions/workflows/build.yml/badge.svg" alt="Build Status" />
    <img src="https://github.com/jjxxs/websocket-ts/actions/workflows/test.yml/badge.svg" alt="Build Status" />
    <a href="https://coveralls.io/github/jjxxs/websocket-ts?branch=master">
      <img src="https://coveralls.io/repos/github/jjxxs/websocket-ts/badge.svg?branch=master&service=github" alt="Coverage Status" />
    </a>
    <a href="https://github.com/jjxxs/websocket-ts/releases/latest">
      <img src="https://img.shields.io/github/v/release/jjxxs/websocket-ts" alt="Release" />
    </a>
    <a href="/LICENSE">
      <img src="https://img.shields.io/github/license/jjxxs/websocket-ts" alt="License" />
    </a>
  </p>
</div>
<div align="center">
A <b>WebSocket</b> for browsers with <b>auto-reconnect</b> and <b>message buffering</b> written in <b>TypeScript</b>.
</div>
<a id="features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Lightweight &amp; Standalone</strong>: No dependencies, 2.1 kB minified &amp; gzipped.</li>
<li><strong>Browser-native</strong>: Utilizes WebSocket API, offers direct access.</li>
<li><strong>Smart Reconnect</strong>: Optional auto-reconnect and message buffering.</li>
<li><strong>Easy Setup</strong>: Optional builder class for quick initialization.</li>
<li><strong>Well-Tested</strong>: High test coverage, well-documented for extensibility.</li>
<li><strong>Module Support</strong>: Supports CommonJS and ES6 modules.</li>
</ul>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Install <code>websocket-ts</code> with npm:</p>
<pre><code class="bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">websocket-ts</span><span class="hl-1"> </span>
</code><button type="button">Copy</button></pre>

<a id="quickstart" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quickstart<a href="#quickstart" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This example shows how to use the package, complete with message buffering and automatic reconnection.
The created websocket will echo back any received messages. It will buffer messages when disconnected
and attempt to reconnect every 1 second.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">ArrayQueue</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ConstantBackoff</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Websocket</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">WebsocketBuilder</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">WebsocketEvent</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;websocket-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Initialize WebSocket with buffering and 1s reconnection delay</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:8080&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBuffer</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ArrayQueue</span><span class="hl-1">())           </span><span class="hl-5">// buffer messages when disconnected</span><br/><span class="hl-1">  .</span><span class="hl-0">withBackoff</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ConstantBackoff</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">)) </span><span class="hl-5">// retry every 1s</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Function to output &amp; echo received messages</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">echoOnMessage</span><span class="hl-1"> = (</span><span class="hl-4">i</span><span class="hl-1">: </span><span class="hl-9">Websocket</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">: </span><span class="hl-9">MessageEvent</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`received message: </span><span class="hl-6">${</span><span class="hl-4">ev</span><span class="hl-10">.</span><span class="hl-4">data</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">i</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">`echo: </span><span class="hl-6">${</span><span class="hl-4">ev</span><span class="hl-10">.</span><span class="hl-4">data</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Add event listeners</span><br/><span class="hl-4">ws</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-4">WebsocketEvent</span><span class="hl-1">.</span><span class="hl-4">open</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;opened!&quot;</span><span class="hl-1">));</span><br/><span class="hl-4">ws</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-4">WebsocketEvent</span><span class="hl-1">.</span><span class="hl-4">close</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;closed!&quot;</span><span class="hl-1">));</span><br/><span class="hl-4">ws</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-4">WebsocketEvent</span><span class="hl-1">.</span><span class="hl-4">message</span><span class="hl-1">, </span><span class="hl-4">echoOnMessage</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will demonstrate how to use <code>websocket-ts</code> in your project using the provided <code>WebsocketBuild</code>-class.</p>
<p>For a more detailed description of the API, please refer to the <a href="https://jjxxs.github.io/websocket-ts/">API Documentation</a>.</p>
<a id="initialization" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Initialization<a href="#initialization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Create a new instance with the <code>WebsocketBuilder</code>:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">).</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="events" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Events<a href="#events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>There are six events which can be subscribed to through with event listeners:</p>
<pre><code class="typescript"><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-6">enum</span><span class="hl-1"> </span><span class="hl-9">WebsocketEvent</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">open</span><span class="hl-1"> = </span><span class="hl-2">&quot;open&quot;</span><span class="hl-1">,          </span><span class="hl-5">// Connection opened</span><br/><span class="hl-1">  </span><span class="hl-7">close</span><span class="hl-1"> = </span><span class="hl-2">&quot;close&quot;</span><span class="hl-1">,        </span><span class="hl-5">// Connection closed</span><br/><span class="hl-1">  </span><span class="hl-7">error</span><span class="hl-1"> = </span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">,        </span><span class="hl-5">// Error-induced closure</span><br/><span class="hl-1">  </span><span class="hl-7">message</span><span class="hl-1"> = </span><span class="hl-2">&quot;message&quot;</span><span class="hl-1">,    </span><span class="hl-5">// Message received</span><br/><span class="hl-1">  </span><span class="hl-7">retry</span><span class="hl-1"> = </span><span class="hl-2">&quot;retry&quot;</span><span class="hl-1">,        </span><span class="hl-5">// Reconnect attempt</span><br/><span class="hl-1">  </span><span class="hl-7">reconnect</span><span class="hl-1"> = </span><span class="hl-2">&quot;reconnect&quot;</span><span class="hl-1"> </span><span class="hl-5">// Successful reconnect</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="add-event-listeners" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Add Event Listeners<a href="#add-event-listeners" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Event listeners receive the websocket instance (<code>i</code>) and the triggering event (<code>ev</code>) as arguments.</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">onOpen</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;opened&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">onClose</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;closed&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">onError</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">onMessage</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;message&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">onRetry</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;retry&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">onReconnect</span><span class="hl-1">((</span><span class="hl-4">i</span><span class="hl-1">, </span><span class="hl-4">ev</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;reconnect&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="remove-event-listeners" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Remove Event Listeners<a href="#remove-event-listeners" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To unregister a specific event listener, use <code>removeEventListener</code>:</p>
<pre><code class="typescript"><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-4">ws</span><span class="hl-1">: </span><span class="hl-9">Websocket</span><br/><span class="hl-5">/* ... */</span><br/><span class="hl-4">ws</span><span class="hl-1">.</span><span class="hl-0">removeEventListener</span><span class="hl-1">(</span><span class="hl-4">WebsocketEvent</span><span class="hl-1">.</span><span class="hl-4">open</span><span class="hl-1">, </span><span class="hl-4">openEventListener</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="send-message" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Send Message<a href="#send-message" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Use the <code>send</code> method to send a message to the server:</p>
<pre><code class="typescript"><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-4">ws</span><span class="hl-1">: </span><span class="hl-9">Websocket</span><span class="hl-1">;</span><br/><span class="hl-5">/* ... */</span><br/><span class="hl-4">ws</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&quot;Hello World!&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="reconnect--backoff-optional" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Reconnect &amp; Backoff (Optional)<a href="#reconnect--backoff-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you'd like the websocket to automatically reconnect upon disconnection, you can optionally provide a <code>Backoff</code> strategy.
This sets the delay between reconnection attempts. There are three built-in <code>Backoff</code> implementations, or you can create
your own by implementing the <code>Backoff</code> interface. If no Backoff is provided, the websocket will not attempt to reconnect.</p>
<a id="constantbackoff" class="tsd-anchor"></a><h5 class="tsd-anchor-link">ConstantBackoff<a href="#constantbackoff" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>The <code>ConstantBackoff</code> strategy enforces a fixed delay between each reconnection attempt.
To set a constant 1-second wait time, use:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBackoff</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ConstantBackoff</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">)) </span><span class="hl-5">// 1000ms = 1s</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="linearbackoff" class="tsd-anchor"></a><h5 class="tsd-anchor-link">LinearBackoff<a href="#linearbackoff" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>The <code>LinearBackoff</code> strategy increases the delay between reconnection attempts linearly,
up to an optional maximum. For example, to start with a 0-second delay and increase by
10 second for each retry, capping at 60 seconds, use:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBackoff</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">LinearBackoff</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">10000</span><span class="hl-1">, </span><span class="hl-8">60000</span><span class="hl-1">)) </span><span class="hl-5">// 0ms, 10s, 20s, 30s, 40s, 50s, 60s</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="exponentialbackoff" class="tsd-anchor"></a><h5 class="tsd-anchor-link">ExponentialBackoff<a href="#exponentialbackoff" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>The <code>ExponentialBackoff</code> strategy doubles the delay between each reconnection attempt, up
to a specified maximum. This approach is inspired by the binary exponential backoff algorithm
commonly used in networking. For example, to generate a backoff series like <code>[1s, 2s, 4s, 8s]</code>, use:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBackoff</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ExponentialBackoff</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">, </span><span class="hl-8">6</span><span class="hl-1">)) </span><span class="hl-5">// 1s, 2s, 4s, 8s, 16s, 32s, 64s</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="buffer-optional" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Buffer (Optional)<a href="#buffer-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To buffer outgoing messages when the websocket is disconnected, you can optionally specify
a <code>Queue</code>. This queue will temporarily store your messages and send them in sequence when
the websocket (re)connects. Two built-in <code>Queue</code> implementations are available, or you can
create your own by implementing the <code>Queue</code> interface. If no queue is provided, messages
won't be buffered.</p>
<a id="ringqueue" class="tsd-anchor"></a><h5 class="tsd-anchor-link">RingQueue<a href="#ringqueue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>The <code>RingQueue</code> is a fixed-capacity, first-in-first-out (FIFO) queue. When it reaches capacity,
the oldest element is removed to accommodate new ones. Reading from the queue returns and
removes the oldest element. For instance, to set up a <code>RingQueue</code> with a 100-element capacity,
use:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBuffer</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">RingQueue</span><span class="hl-1">(</span><span class="hl-8">100</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="arrayqueue" class="tsd-anchor"></a><h5 class="tsd-anchor-link">ArrayQueue<a href="#arrayqueue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>The ArrayQueue offers an unbounded capacity, functioning as a first-in-first-out (FIFO) queue.
Reading from this queue returns and removes the oldest element. To use an <code>ArrayQueue</code>, use:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ws</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">WebsocketBuilder</span><span class="hl-1">(</span><span class="hl-2">&quot;ws://localhost:42421&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">withBuffer</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ArrayQueue</span><span class="hl-1">())</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="build--tests" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Build &amp; Tests<a href="#build--tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To compile the project, execute <code>npm run build</code>.</p>
<p>To run tests, use <code>npm run test</code>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#features"><span>Features</span></a><a href="#installation"><span>Installation</span></a><a href="#quickstart"><span>Quickstart</span></a><a href="#usage"><span>Usage</span></a><ul><li><ul><li><a href="#initialization"><span>Initialization</span></a></li><li><a href="#events"><span>Events</span></a></li><li><a href="#add-event-listeners"><span>Add <wbr/>Event <wbr/>Listeners</span></a></li><li><a href="#remove-event-listeners"><span>Remove <wbr/>Event <wbr/>Listeners</span></a></li><li><a href="#send-message"><span>Send <wbr/>Message</span></a></li><li><a href="#reconnect--backoff-optional"><span>Reconnect &amp; <wbr/>Backoff (<wbr/>Optional)</span></a></li><li><ul><li><a href="#constantbackoff"><span>Constant<wbr/>Backoff</span></a></li><li><a href="#linearbackoff"><span>Linear<wbr/>Backoff</span></a></li><li><a href="#exponentialbackoff"><span>Exponential<wbr/>Backoff</span></a></li></ul></li><li><a href="#buffer-optional"><span>Buffer (<wbr/>Optional)</span></a></li><li><ul><li><a href="#ringqueue"><span>Ring<wbr/>Queue</span></a></li><li><a href="#arrayqueue"><span>Array<wbr/>Queue</span></a></li></ul></li></ul></li></ul><a href="#build--tests"><span>Build &amp; <wbr/>Tests</span></a></div></details></div><div class="site-menu"><div class="tree"><div class="tree-config"><button class="tree-config__button tree-config__button--expand js-tree-expand" title="Expand All"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 490.72 490.72" fill="currentColor"><path d="M480.027,288.027H10.693c-5.867,0-10.667,4.8-10.667,10.667c0,5.867,4.8,10.667,10.667,10.667h213.333v144.96l-45.76-45.76c-4.267-4.053-10.987-3.947-15.04,0.213c-3.947,4.16-3.947,10.667,0,14.827l64,64c4.16,4.16,10.88,4.16,15.04,0l64-64c4.053-4.267,3.947-10.987-0.213-15.04c-4.16-3.947-10.667-3.947-14.827,0l-45.867,45.76V309.36h234.667c5.867,0,10.667-4.8,10.667-10.667C490.693,292.827,485.893,288.027,480.027,288.027z"></path><path d="M10.693,224.027h469.333c5.867,0,10.667-4.8,10.667-10.667c0-5.867-4.8-10.667-10.667-10.667H245.36V36.4l45.76,45.76c4.267,4.053,10.987,3.947,15.04-0.213c3.947-4.16,3.947-10.667,0-14.827l-64-64c-4.16-4.16-10.88-4.16-15.04,0l-64,64c-4.053,4.267-3.947,10.987,0.213,15.04c4.16,3.947,10.667,3.947,14.827,0l45.867-45.76v166.293H10.693c-5.867,0-10.667,4.8-10.667,10.667C0.027,219.227,4.827,224.027,10.693,224.027z"></path></svg></button><button class="tree-config__button tree-config__button--collapse js-tree-collapse" title="Collapse All"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8zm7-8a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 4.293V.5A.5.5 0 0 1 8 0zm-.5 11.707-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 11.707V15.5a.5.5 0 0 1-1 0v-3.793z"></path></svg></button><button class="tree-config__button tree-config__button--target js-tree-target" title="Scroll to current file"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><circle cx="12" cy="12" r="3"></circle><path d="M13 4.069V2h-2v2.069A8.008 8.008 0 0 0 4.069 11H2v2h2.069A8.007 8.007 0 0 0 11 19.931V22h2v-2.069A8.007 8.007 0 0 0 19.931 13H22v-2h-2.069A8.008 8.008 0 0 0 13 4.069zM12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"></path></svg></button></div><div class="tree-content"><ul class="js-category-list category" data-id="root"><li><span class="js-category-title category__title" data-id="root-src"><div class="category__folder" data-id="root-src"></div>src</span><ul class="js-category-list category" data-id="root-src"><li><span class="js-category-title category__title" data-id="root-src-backoff"><div class="category__folder" data-id="root-src-backoff"></div>backoff</span><ul class="js-category-list category" data-id="root-src-backoff"><li><a class="category__link js-category-link category__link--ts" href="modules/backoff_backoff.html" data-id="/modules/backoff_backoff.html">backoff.ts</a><ul><li><a class="category__link js-category-link" href="interfaces/backoff_backoff.Backoff.html" data-id="/interfaces/backoff_backoff.Backoff.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Interface"><use href="assets/icons.svg#icon-256"></use></svg>Backoff</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/backoff_constantbackoff.html" data-id="/modules/backoff_constantbackoff.html">constantbackoff.ts</a><ul><li><a class="category__link js-category-link" href="classes/backoff_constantbackoff.ConstantBackoff.html" data-id="/classes/backoff_constantbackoff.ConstantBackoff.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>ConstantBackoff</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/backoff_exponentialbackoff.html" data-id="/modules/backoff_exponentialbackoff.html">exponentialbackoff.ts</a><ul><li><a class="category__link js-category-link" href="classes/backoff_exponentialbackoff.ExponentialBackoff.html" data-id="/classes/backoff_exponentialbackoff.ExponentialBackoff.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>ExponentialBackoff</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/backoff_linearbackoff.html" data-id="/modules/backoff_linearbackoff.html">linearbackoff.ts</a><ul><li><a class="category__link js-category-link" href="classes/backoff_linearbackoff.LinearBackoff.html" data-id="/classes/backoff_linearbackoff.LinearBackoff.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>LinearBackoff</a></li></ul></li></ul></li><li><span class="js-category-title category__title" data-id="root-src-queue"><div class="category__folder" data-id="root-src-queue"></div>queue</span><ul class="js-category-list category" data-id="root-src-queue"><li><a class="category__link js-category-link category__link--ts" href="modules/queue_array_queue.html" data-id="/modules/queue_array_queue.html">array_queue.ts</a><ul><li><a class="category__link js-category-link" href="classes/queue_array_queue.ArrayQueue.html" data-id="/classes/queue_array_queue.ArrayQueue.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>ArrayQueue</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/queue_queue.html" data-id="/modules/queue_queue.html">queue.ts</a><ul><li><a class="category__link js-category-link" href="interfaces/queue_queue.Queue.html" data-id="/interfaces/queue_queue.Queue.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Interface"><use href="assets/icons.svg#icon-256"></use></svg>Queue</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/queue_ring_queue.html" data-id="/modules/queue_ring_queue.html">ring_queue.ts</a><ul><li><a class="category__link js-category-link" href="classes/queue_ring_queue.RingQueue.html" data-id="/classes/queue_ring_queue.RingQueue.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>RingQueue</a></li></ul></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket.html" data-id="/modules/websocket.html">websocket.ts</a><ul><li><a class="category__link js-category-link" href="classes/websocket.Websocket.html" data-id="/classes/websocket.Websocket.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>Websocket</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket_buffer.html" data-id="/modules/websocket_buffer.html">websocket_buffer.ts</a><ul><li><a class="category__link js-category-link" href="interfaces/websocket_buffer.WebsocketBuffer.html" data-id="/interfaces/websocket_buffer.WebsocketBuffer.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Interface"><use href="assets/icons.svg#icon-256"></use></svg>WebsocketBuffer</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket_builder.html" data-id="/modules/websocket_builder.html">websocket_builder.ts</a><ul><li><a class="category__link js-category-link" href="classes/websocket_builder.WebsocketBuilder.html" data-id="/classes/websocket_builder.WebsocketBuilder.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="assets/icons.svg#icon-128"></use></svg>WebsocketBuilder</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket_event.html" data-id="/modules/websocket_event.html">websocket_event.ts</a><ul><li><a class="category__link js-category-link" href="enums/websocket_event.WebsocketEvent.html" data-id="/enums/websocket_event.WebsocketEvent.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="assets/icons.svg#icon-8"></use></svg>WebsocketEvent</a></li><li><a class="category__link js-category-link" href="types/websocket_event.ReconnectEventDetail.html" data-id="/types/websocket_event.ReconnectEventDetail.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>ReconnectEventDetail</a></li><li><a class="category__link js-category-link" href="types/websocket_event.RetryEventDetail.html" data-id="/types/websocket_event.RetryEventDetail.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>RetryEventDetail</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventListener.html" data-id="/types/websocket_event.WebsocketEventListener.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventListener</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventListenerOptions.html" data-id="/types/websocket_event.WebsocketEventListenerOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventListenerOptions</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventListenerParams.html" data-id="/types/websocket_event.WebsocketEventListenerParams.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventListenerParams</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventListeners.html" data-id="/types/websocket_event.WebsocketEventListeners.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventListeners</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventListenerWithOptions.html" data-id="/types/websocket_event.WebsocketEventListenerWithOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventListenerWithOptions</a></li><li><a class="category__link js-category-link" href="types/websocket_event.WebsocketEventMap.html" data-id="/types/websocket_event.WebsocketEventMap.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Type Alias"><use href="assets/icons.svg#icon-2097152"></use></svg>WebsocketEventMap</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket_options.html" data-id="/modules/websocket_options.html">websocket_options.ts</a><ul><li><a class="category__link js-category-link" href="interfaces/websocket_options.WebsocketOptions.html" data-id="/interfaces/websocket_options.WebsocketOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Interface"><use href="assets/icons.svg#icon-256"></use></svg>WebsocketOptions</a></li></ul></li><li><a class="category__link js-category-link category__link--ts" href="modules/websocket_retry_options.html" data-id="/modules/websocket_retry_options.html">websocket_retry_options.ts</a><ul><li><a class="category__link js-category-link" href="interfaces/websocket_retry_options.WebsocketConnectionRetryOptions.html" data-id="/interfaces/websocket_retry_options.WebsocketConnectionRetryOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Interface"><use href="assets/icons.svg#icon-256"></use></svg>WebsocketConnectionRetryOptions</a></li></ul></li></ul></li></ul></div></div></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div><script src="assets/hierarchy.js"></script></body></html>
